NAME: Rob Royce, Tyler Hackett
EMAIL: robroyce1@ucla.edu, tjhackett@ucla.edu
ID: 705357270, 405180956


List of Included Files
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| File                    | Description                                                                  | Header Check |
|-------------------------+------------------------------------------------------------------------------+--------------|
| README                  | This file                                                                    | DONE         |
| bufferedimagereader.cpp | Implementation of BufferedImageReader class                                  | DONE         |
| bufferedimagereader.hpp | Declaration of BufferedImageReader class                                     | DONE         |
| ext2.cpp                | Implementation of EXT2 class                                                 | DONE         |
| ext2.hpp                | Declaration of EXT2 class (contains data structures and methods to           | DONE         |
| ext2_fs.h               | The header file provided for this assignment                                 | DONE         |
| imagereader.cpp         | Implementation of ImageReader class                                          | DONE         |
| imagereader.hpp         | Declaration of ImageReader class                                             | DONE         |
| lab3a.cpp               | Contains the main program for this project                                   | DONE         |
| Makefile                | Contains targets lab3a, clean, dist and a few other convenience targets      | DONE         |
| metafile.hpp            | Contains the MetaFile class used for storing meta data about the file system | DONE         |


Description of Lab3A
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
Note that we opted to complete our assignment in C++ due to the various "nice"
features it offers over standard C, hence most of this is done in OOP. The core
functionality of our project was split into 3 parts:

1) Main Program
2) EXT2 Class
3) ImageReader Class

The Main program doesn't do much. It parses the command line argument and
creates an EXT2 object. Once the object is instantiated, Main simply calls
methods tailored to the specification (one for each type of printout required in
the spec).


EXT2 Class
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
- contains :ImageReader:
- contains :MetaFile:
- contains :vector<> groupDescTbl:

Upon construction, the EXT2 Class takes a filename and attempts to open it as if
it were an EXT2 image. We perform various checks on the incoming
string/filename, as well as on the image itself. The details of our checks and
error handling can be found in the "Error Handling" section below. After
checking the meta data from the image, the constructor proceeds to read the
Super Block, verifying that certain parameters are met, such as the "magic
number" assigned to EXT2 images (0xEF53). File reads are performed exclusively
by the BufferedImageReader class, which is described below.

After retrieving the meta file 'stat' and parsing and validating the Super
Block, we retrieve a full copy of the Group Descriptor Table and store it in a
std::vector<ext2_group_desc> object. This allows us to have rapid lookup of the
various groups (although the spec explicitly said there will only be one group
in the tests, we felt it would be wise to make it extensible). Successful
construction of the EXT2 object implies we have successfully read in the image
file, retrieved its metadata, parsed and validated the Super Block, and
collected a copy of the Group Descriptor Table in memory.

The rest of the EXT2 methods are dedicated to the extraction of specific data
fields contained within the file system.


ImageReader (and BufferedImageReader) Class
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++ 
The ImageReader parent class and BufferedImageReader sub-class are designed to
abstract disk reads from the higher level EXT2 class. It provides methods to
retrieve individual blocks or ranges of blocks. It also maintains a copy of the
superblock and group descriptor table in memory.


Error Handling
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
We employed the try/catch mechanisms of C++ to deal with errors. The main
program (lab3a) contains two such try/catch blocks, the first of which deals
with initial memory allocation and file system initialization. Once the file
system is successfully read (i.e. after validating magic number, etc) the second
try/catch block deals with dynamic issues, such as corrupt data.


Summary of Block Size Impact
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
| Limits       | 1KiB          | 2KiB      | 4KiB       | 8KiB       |
|--------------+---------------+-----------+------------+------------|
| FSBlocks     | 2,147,483,647 | =         | =          | =          |
| BlksPerBG    | 8192          | 16348     | 32768      | 65536      |
| InodesPerBG  | ^             | ^         | ^          | ^          |
| BytesPerBG   | 8MiB          | 32MiB     | 128MiB     | 512MiB     |
| FSSizeReal   | 4TiB          | 8TiB      | 16TiB      | 32TiB      |
| FSSizeLnx    | 2TiB          | 8TiB      | 16TiB      | 32TiB      |
| BlksPerFile  | 16843020      | 134217728 | 1074791436 | 8594130956 |
| FileSizeReal | 16GiB         | 256GiB    | 2TiB       | 2TiB       |
| FileSizeLnx  | 16GiB         | 256GiB    | 2TiB       | 2TiB       |


References
++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
The following resources were instrumental in our research for this project.

EXT2 Internal Layout
by Dave Poirier
